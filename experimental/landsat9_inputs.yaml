# EOAP Schemas (c) 2024-2025
#
# EOAP Schemas is licensed under
# Creative Commons Attribution-ShareAlike 4.0 International.
#
# You should have received a copy of the license along with this work.
# If not, see <https://creativecommons.org/licenses/by-sa/4.0/>.

# commons shared

- $import: https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml

- type: record
  name: KeyValuePair
  fields:
  - type: string
    name: key
  - type: string
    name: value

- type: record
  name: APIEndpoint
  fields:
  - type: https://raw.githubusercontent.com/eoap/schemas/main/string_format.yaml#URI
    name: url
  # add headers as list of key-value pairs
  - type:
    - 'null'
    - type:
        type: array
        items: KeyValuePair
    name: headers

# STAC

- type: record
  name: DatetimeInterval
  fields:
  - type: string
    name: start
  - type: string
    name: end

- type: record
  name: STACSearchSettings
  fields:
  - type: string
    name: collection
  - type: DatetimeInterval
    name: datetime_interval
  - type:
      type: array
      items: double
    name: aoi
  - type:
    - 'null'
    - type:
        type: array
        items: string
    name: query

- type: record
  name: STACAPI
  fields:
  - type: APIEndpoint
    name: api_endpoint
  - type: STACSearchSettings
    name: search_request

# OGC

- type: enum
  name: Bands
  symbols:
  - crs_coastal_aerosol
  - blue
  - green
  - red
  - nir08
  - swir1
  - swir2
  - panchromatic
  - cirrus
  - tirs1
  - tirs2

- type: record
  name: OGCExecuteProcessSettings
  fields:
  - type: string
    name: process_id
  - type: Any
    name: inputs
  - type:
      - 'null'
      - type:
          type: array
          items: Any
    name: properties

- type: record
  name: OCGProcesses
  fields:
  - type: APIEndpoint
    name: api_endpoint
  - type: OGCExecuteProcessSettings
    name: search_request
